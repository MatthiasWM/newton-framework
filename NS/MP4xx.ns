/*------------------------------------------------------------------------------	Magic pointers 398 - 499------------------------------------------------------------------------------*/mp4xx := [/*------------------------------------------------------------------------------	@398	newtApplication*/	{},/*------------------------------------------------------------------------------	@399*/	{},/*------------------------------------------------------------------------------	@400*/	{},/*------------------------------------------------------------------------------	@401	newtStatusBar*/	{	_proto: newtStatusBarNoClose,		firstRight: -26,		viewSetupChildrenScript: func()			begin			local blessed1 := GetUserConfig('blessedApp);			if blessed1 and GetRoot().(blessed1) = base then				firstRight := newtStatusBarNoClose.firstRight			else				firstRight := -26;			inherited:viewSetupChildrenScript();			if not (blessed1 and GetRoot().(blessed1) = base) then				AddArraySlot(viewChildren, {  _proto: protoLargeClosebox,														viewBounds: RelBounds(-19, -16, 13, 13) })		end	},/*------------------------------------------------------------------------------	@402	newtLayout*/	{},/*------------------------------------------------------------------------------	@403	newtRollLayout*/	{},/*------------------------------------------------------------------------------	@404	newtPageLayout*/	{},/*------------------------------------------------------------------------------	@405	newtOverLayout*/	{},/*------------------------------------------------------------------------------	@406	newtEntryView*/	{},/*------------------------------------------------------------------------------	@407	newtEntryViewActionButton*/	{},/*------------------------------------------------------------------------------	@408	newtEntryViewFilingButton*/	{},/*------------------------------------------------------------------------------	@409	newtRollEntryView*/	{},/*------------------------------------------------------------------------------	@410	newtEntryRollHeader*/	{},/*------------------------------------------------------------------------------	@411	newtStationeryView*/	{},/*------------------------------------------------------------------------------	@412	newtROEditView*/	{},/*------------------------------------------------------------------------------	@413	newtEditView*/	{},/*------------------------------------------------------------------------------	@414	newtROTextView*/	{},/*------------------------------------------------------------------------------	@415	newtTextView*/	{},/*------------------------------------------------------------------------------	@416	newtRONumView*/	{},/*------------------------------------------------------------------------------	@417	newtNumView*/	{},/*------------------------------------------------------------------------------	@418	newtROTextDateView*/	{},/*------------------------------------------------------------------------------	@419	newtTextDateView*/	{},/*------------------------------------------------------------------------------	@420	newtQBETextView*/	{},/*------------------------------------------------------------------------------	@421	newtROLabelInputLine*/	{},/*------------------------------------------------------------------------------	@422	newtLabelInputLine*/	{},/*------------------------------------------------------------------------------	@423	newtLabelNumInputLine*/	{},/*------------------------------------------------------------------------------	@424	newtLabelDateInputLine*/	{},/*------------------------------------------------------------------------------	@425	newtLabelPhoneInputLine*/	{},/*------------------------------------------------------------------------------	@426	newtQBELabelInputLine*/	{},/*------------------------------------------------------------------------------	@427	newtSmartNameView*/	{},/*------------------------------------------------------------------------------	@428	newtSmartPhoneView*/	{},/*------------------------------------------------------------------------------	@429	newtSoup*/	{},/*------------------------------------------------------------------------------	@430	newtAZTabs*/	{},/*------------------------------------------------------------------------------	@431	protoSoundChannel*/	{},/*------------------------------------------------------------------------------	@432	ROM_typewriter*/	{},/*------------------------------------------------------------------------------	@433  SYS_command			Command frame attached to events.*/	{	id: nil,		result: 0,		parameter: nil,		receiver: nil,		frameParameter: nil,		params: nil,		undo: nil	},/*------------------------------------------------------------------------------	@434	protoKeyboardButton*/	{},/*------------------------------------------------------------------------------	@435	protoRubricPopup*/	{},/*------------------------------------------------------------------------------	@436	protoLocationPopup*/	{},/*------------------------------------------------------------------------------	@437	newtCustomFilter*/	{},/*------------------------------------------------------------------------------	@438	newtLabelCustomInputLine*/	{},/*------------------------------------------------------------------------------	@439	newtActionButton*/	{},/*------------------------------------------------------------------------------	@440	newtFilingButton*/	{},/*------------------------------------------------------------------------------	@441*/	{},/*------------------------------------------------------------------------------	@442	ROM_rcNoRecog*/	{},/*------------------------------------------------------------------------------	@443	ROM_rcPrefsConfig*/	{},/*------------------------------------------------------------------------------	@444	ROM_rcDefaultConfig*/	{},/*------------------------------------------------------------------------------	@445	ROM_rcSingleCharacterConfig*/	{},/*------------------------------------------------------------------------------	@446	ROM_rcTryLettersConfig*/	{},/*------------------------------------------------------------------------------	@447	ROM_rcRerecognizeConfig*/	{},/*------------------------------------------------------------------------------	@448	ROM_rcBuildChains*/	{},/*------------------------------------------------------------------------------	@449	ROM_rcInkOrText*/	{},/*------------------------------------------------------------------------------	@450	protoRecConfig*/	{},/*------------------------------------------------------------------------------	@451	newtStationery*/	{},/*------------------------------------------------------------------------------	@452	ROM_USStateSoupName*/	{},/*------------------------------------------------------------------------------	@453	ROM_canadianProvinceName*/	{},/*------------------------------------------------------------------------------	@454	ROM_continents*/	{},/*------------------------------------------------------------------------------	@455	protoWorldPicker*/	{},/*------------------------------------------------------------------------------	@456	protoStatePicker*/	{},/*------------------------------------------------------------------------------	@457	protoProvincePicker*/	{},/*------------------------------------------------------------------------------	@458	protoCountryPicker*/	{},/*------------------------------------------------------------------------------	@459	newtFloatingBar*/	{},/*------------------------------------------------------------------------------	@460	protoSoupOverview*/	{},/*------------------------------------------------------------------------------	@461	protoListPicker*/	{},/*------------------------------------------------------------------------------	@462	protoDigit*/	{},/*------------------------------------------------------------------------------	@463	protoDigitalClock*/	{},/*------------------------------------------------------------------------------	@464*/	{},/*------------------------------------------------------------------------------	@465*/	{},/*------------------------------------------------------------------------------	@466	protoStreamingEndpoint*/	{	_proto: protoBasicEndpoint,		Instantiate: plainC.CISNewInstantiate /* endpoint, options */,		InstantiateFromTEndpoint: plainC.CISNewInstantiateFromEndpoint /* endpoint, options, CEndpoint */,		StreamIn: plainC.CISStreamIn /* streamSpec */,		StreamOut: plainC.CISStreamOut /* data, streamSpec */	},/*------------------------------------------------------------------------------	@467	protoStatusTemplate*/	{},/*------------------------------------------------------------------------------	@468	protoStatusClosebox*/	{},/*------------------------------------------------------------------------------	@469	protoStatusIcon*/	{},/*------------------------------------------------------------------------------	@470	protoStatusButton*/	{},/*------------------------------------------------------------------------------	@471	protoStatusGauge*/	{},/*------------------------------------------------------------------------------	@472	protoStatusProgress*/	{},/*------------------------------------------------------------------------------	@473	protoStatusText*/	{},/*------------------------------------------------------------------------------	@474	protoOrientation*/	{  _proto: protoPopupButton,		text: "  Rotate",		viewBounds: SetBounds(7, 0, 54, 13),		popup: [			{	item: "Left",				icon: {					bits: MakeBinaryFromHex("00000000000400FB00FB01F8010C0205000000000000000000F8000003F8000007F800000FF800001F8000001E0000003E0000003C000000FF0000007E0000003C00000018000000000000000000000000000000", 'bits),					bounds: SetBounds(0, 0, 13, 17)				},				indent: 24,				msg: 'RelRotate,				args: [ 1 ]			},			{	item: "Right",				icon: {					bits: MakeBinaryFromHex("00000000000400FB00FB0209010C02160000000000000000F8000000FE000000FF000000FF8000000FC0000003C0000003E0000001E0000007F8000003F0000001E0000000C00000000000000000000000000000", 'bits),					bounds: SetBounds(0, 0, 13, 17)				},				indent: 24,				msg: 'RelRotate,				args: [ -1 ]			},			{	item: "180\u00B0",				icon: {					bits: MakeBinaryFromHex("00000000000400FB00FB0219010C02243C0000003F0000003F8000003FC0000007C0000003E0000001E0000001E0000001E0000013E0000037C000007FC00000FF800000FF0000007C0000003000000010000000", 'bits),					bounds: SetBounds(0, 0, 11, 17)				},				indent: 24,				msg: 'RelRotate,				args: [ 2 ]			}		],		bBarItems: {	/*		left: {				item: "Buttons Right",				icon: {					bits: kRef43F5AD,					bounds: SetBounds(0, 0, 11, 17)				},				indent: 24,				msg: 'FlipBBar,				args: [ 'right ]			},			right: {				item: "Buttons Left",				icon: {					bits: kRef43F63D,					bounds: SetBounds(0, 0, 11, 17)				},				indent: 24,				msg: 'FlipBBar,				args: [ 'left ]			}	*/	},		bBarControlsItems: {	/*		left: {				item: "Controls Right",				icon: {					bits: kRef43F5AD,					bounds: SetBounds(0, 0, 11, 17)				},				indent: 24,				msg: 'FlipBBarControls,				args: [ 'right ]			},			right: {				item: "Controls Left",				icon: {					bits: kRef43F63D,					bounds: SetBounds(0, 0, 11, 17)				},				indent: 24,				msg: 'FlipBBarControls,				args: [ 'left ]			}	*/	},		buttonClickScript: func()			begin			if displayParams.buttonBarPosition <> 'none then				begin				local buttonsPosn := bBarControlsItems.(displayParams.buttonBarControlsPosition);				local controlsPosn := bBarItems.(displayParams.buttonBarPosition);				if controlsPosn or buttonsPosn then					begin					popup := Clone(popup);					AddArraySlot(popup, 'pickseparator);					if buttonsPosn then						AddArraySlot(popup, buttonsPosn);					if controlsPosn then						AddArraySlot(popup, controlsPosn)					end				end;			inherited:?buttonClickScript()			end,		pickActionScript: func(itemSelected)			begin			local item := popup[itemSelected];			RemoveSlot(self, 'popup);			AddDeferredSend(self, item.msg, item.args);			inherited:?pickActionScript(itemSelected)			end,		pickCancelledScript: func()			begin			RemoveSlot(self, 'popup);			inherited:pickCancelledScript()			end,		RelRotate: func(relOrientation)			begin			local newOrientation := BAnd(GetOrientation() + relOrientation, 3);			if GetOrientation() <> newOrientation then				SetScreenOrientation(newOrientation)			end,		FlipBBar: func(newOrientation)			begin			local positions := GetUserConfig('buttonBarPositions);			if not positions then				positions := Array(4, nil);			positions[GetOrientation()] := newOrientation;			SetUserConfig('buttonBarPositions, positions)			end,		FlipBBarControls: func(newOrientation)			begin			local positions := GetUserConfig('buttonBarControlsPositions);			if not positions then				positions := Array(4, nil);			positions[GetOrientation()] := newOrientation;			SetUserConfig('buttonBarControlsPositions, positions)			end,	},/*------------------------------------------------------------------------------	@475	protoHorizontalUpDownScroller*/	{},/*------------------------------------------------------------------------------	@476*/	{},/*------------------------------------------------------------------------------	@477	protoTransportHeader*/	{},/*------------------------------------------------------------------------------	@478	protoInfoButton*/	{  _proto: protoPictureButton,		viewBounds: RelBounds(kStdButtonSpacing, 0, 13, kStdButtonHeight),		viewJustify: vjCenterH + vjCenterV + vjSiblingRightH + vjSiblingTopV,		icon: {			bits: MakeBinaryFromHex("000000000004000B000B000D00140012700000007000000000000000F000000070000000700000007000000070000000F8000000", 'bits),			bounds: SetBounds(0, 0, 5, 9)		},		lowerCaseIcon: {			bits: MakeBinaryFromHex("000000000004000B000B000D00140012700000007000000000000000F000000070000000700000007000000070000000F8000000", 'bits),			bounds: SetBounds(0, 0, 5, 9)		},		upperCaseIcon: {			bits: MakeBinaryFromHex("00000000000400000000000000090005F800000070000000700000007000000070000000700000007000000070000000F8000000", 'bits),			bounds: SetBounds(0, 0, 5, 9)		},		items: nil,		auxItems: nil,		stdItems: [			{	item: "About",		msg: 'DoInfoAbout },			{  item: "Help",		msg: 'DoInfoHelp },			{  item: "Prefs",		msg: 'DoInfoPrefs }		],		popUpView: nil,		viewSetupFormScript: func()			begin			if CommandKeyboardConnected() then				begin				if not vars._infoButtons then					vars._infoButtons := [];				SetAdd(vars._infoButtons, self, true);				if IsKeyDown(57, true) then					self.icon := self.upperCaseIcon				end			end,		viewClickScript: func(unit)			begin			if :TrackHilite(unit) then				begin				auxItems := :?GenInfoAuxItems();				if not auxItems then					auxItems := [];				items := :GenInfoItems(auxItems);				if Length(items) > 0 then					popUpView := :PopupMenu(items, nil);				else					:Hilite(nil)				end			else				:Hilite(nil);			true		end,		viewQuitScript: func()			begin			if vars._infoButtons then				SetRemove(vars._infoButtons, self);			if popUpView then				popUpView:?Close()			end,		SetCapsLock: func(isLockOn)			begin			if isLockOn then				SetValue(self, 'icon, self.upperCaseIcon)			else				SetValue(self, 'icon, self.lowerCaseIcon)			end,		GenInfoItems: func(items)			begin			local allItems := [];			foreach item in stdItems do				if GetVariable(self, item.msg) then					AddArraySlot(allItems, item);			if Length(allItems) > 0 and Length(items) > 0 then				AddArraySlot(allItems, 'pickseparator);			ArrayMunger(allItems, Length(allItems), nil, items, 0, nil);			allItems			end,		pickActionScript: func(itemSelected)			begin			local numOfStdItems := Length(items) - Length(auxItems);			if itemSelected < numOfStdItems then				Perform(self, items[itemSelected].msg, [])			else				:DoInfoAux(auxItems, itemSelected - numOfStdItems);			:pickCancelledScript()			end,		pickCancelledScript: func()			begin			:Hilite(nil);			items := nil;			auxItems := nil;			popUpView := nil			end	},/*------------------------------------------------------------------------------	@479*/	{},/*------------------------------------------------------------------------------	@480			canonicalDictRAMFrame*/	{	_proto: nil,		dict: nil,		ROMdictId: nil	},/*------------------------------------------------------------------------------	@481	protoThumbnailFloater*/	{},/*------------------------------------------------------------------------------	@482*/	{},/*------------------------------------------------------------------------------	@483*/	{},/*------------------------------------------------------------------------------	@484	protoThumbnail*/	{},/*------------------------------------------------------------------------------	@485	protoImageView*/	{},/*------------------------------------------------------------------------------	@486*/	{},/*------------------------------------------------------------------------------	@487	protoFormatPicker*/	{},/*------------------------------------------------------------------------------	@488	protoSendButton*/	{},/*------------------------------------------------------------------------------	@489*/	{},/*------------------------------------------------------------------------------	@490*/	{},/*------------------------------------------------------------------------------	@491	newtROTextTimeView*/	{},/*------------------------------------------------------------------------------	@492	newtTextTimeView*/	{},/*------------------------------------------------------------------------------	@493	newtLabelTimeInputLine*/	{},/*------------------------------------------------------------------------------	@494	newtROSymbolView*/	{},/*------------------------------------------------------------------------------	@495	newtSymbolView*/	{},/*------------------------------------------------------------------------------	@496	newtLabelSymbolInputLine*/	{},/*------------------------------------------------------------------------------	@497	protoPersonaPopup*/	{},/*------------------------------------------------------------------------------	@498	protoEmporiumPopup*/	{},/*------------------------------------------------------------------------------	@499*/	nil];